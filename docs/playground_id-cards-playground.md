# 业务网络卡片

业务网络卡片提供连接区块链业务网络所需的所有信息。只能通过有效的业务网络卡片访问区块链业务网络。业务网络卡片包含已部署业务网络中的单个参与者的身份。Hyperledger Composer Playground中使用业务网络卡片连接到已部署业务网络。你可以为单个已部署业务网络配置多个业务网络卡片，其中这些业务网络卡片属于多个参与者。

业务网络卡片分组在连接配置文件下，每个卡片显示了相应的业务网络，可以通过*立即连接*选项使用显示的身份访问该网络。可以使用卡片上的图标删除或导出业务网络卡片。

这是一张业务网络卡片，可以使用“新用户”身份连接到名为“my-business-network”的业务网络。

![身份卡片](https://hyperledger.github.io/composer/playground/images/id-card.png)

在Playground内颁发身份时，可以创建业务网络卡片。此业务网络卡片随后可以导出并与其他人共享，从而允许他们使用颁发的身份连接到业务网络。如果管理员向用户提供了登记ID和密码，这对应了业务网络中的有效身份，然后业务网络卡片可以直接在Playground中创建。也可以手工创建业务网络卡片。

## 使用Playground创建peer管理卡片

首次将业务网络部署到Hyperledger Fabric实例需要将Hyperledger Composer链码安装在相关的Hyperledger Fabric peer上，然后在该通道上实例化业务网络。这个过程需要peer或通道管理员拥有的特殊的Hyperledger Fabric特权。

必须创建peer管理业务网络卡片才能将Hyperledger Composer业务网络部署到Hyperledger Fabric实例。创建peer管理业务网络卡片：

1. 在**我的业务网络**屏幕上，点击**创建业务网卡**。

2. 选择**Hyperledger Fabric v1.0**，然后单击**下一步**。

3. 输入你的连接配置文件的详细信息。要更好地了解创建连接配置文件，请参阅[部署到Hyperledger Fabric](tutorials_deploy-to-fabric-single-org.html)并单击**下一步**。

4. 选择“ **证书”**并上传peer管理员身份的证书和私钥信息。“ [部署到Hyperledger Fabric”](tutorials_deploy-to-fabric-single-org.md)教程概述了在哪里可以找到正确的证书。

5. 输入业务网络卡片的名称。

6. 选择**管理卡片**，然后**peer管理**和**通道管理**。

7. 点击**下一步**

peer管理卡现在应该出现在你的“ **我的业务网络”**屏幕中。你现在可以使用Playground将业务网络部署到Hyperledger Fabric实例。

## 使用业务网络卡片对业务网络提供访问权限

通过向其他用户提供业务网络卡片，来授权他访问你的业务网络。一旦创建，业务网络卡片就可以被导出并提供给为其创建的用户。

业务网络中必须存在一个参与者，以绑定创建业务网络卡片所需的身份。

当在Playground中颁发身份时，可以选择保存身份以用于“业务网络”页面。通过选择此选项，将为当前业务网络的颁发身份创建业务网络卡片。一旦你退出当前业务网络，业务网络卡片将出现在你的业务网络页面上，而且该业务网络卡片可以从该位置导出并与其他用户共享。

### 创建业务网络卡片

1. 从“ **业务网络”**页面中，选择一个用于连接到你的业务网络的身份。点击**立即连接**。*请注意：*你必须使用有权创建新身份的身份。

2. 如果需要，请创建你要为其分配身份的参与者：

   - 单击**测试**选项卡，然后单击**创建新参与者**。

   - 完成参与者定义并单击**新建**。
[视频](https://hyperledger.github.io/composer/assets/img/tutorials/playground/vs_code_11.mp4)

3. 点击右上方你的身份名称，然后在下拉菜单中点击**ID Registry**。

4. 点击**+颁发新的ID**。

5. 选择一个**ID名称**，并输入一个现有的**参与者**关联新的身份。这里提供了一个预见性服务来自动完成已知的参与者。

6. 点击**新建**。

7. 点击**添加到我的钱包**。将业务网络卡片添加到你的“业务网络”页面可让你使用它连接到业务网络，或将其导出供其他人使用。

该**业务网络**页面现在应该显示新的业务网络卡片。
[视频](https://hyperledger.github.io/composer/assets/img/tutorials/playground/vs_code_22.mp4)
### 导出业务网络卡片

业务网络卡片从Playground的**业务网络**页面导出，与希望导出的业务网络卡片进行交互，这个过程只有一步。

- 在“ **业务网络”**页面上，单击你想要导出的业务网络卡上的**导出**图标。业务网络卡片会作为`.card`文件下载。

*请注意*：如果你导出一张从未用过的业务网络卡片，例如发给新的参与者的，它将包含获取证书和私钥所需的登记ID和登记密码，证书和私钥用于识别参与者。或者，如果你导出了之前使用过的业务网络卡片，它将已经包含了证书和私钥。有关参与者和身份的更多信息，请参阅我们的[主要文档](managing_participantsandidentities.md)。

**重要**：导出的身份卡片应该小心处理，因为它们包含不受保护的证书。我们建议你只发送已加密的身份卡片。

## 获得业务网络的访问权限

### 导入业务网络卡片

导入业务网络卡片可让你连接到已部署业务网络。

1. 在“ **业务网络”**页面上，单击右上角的**导入业务网络卡片**。

2. 拖放或浏览以选择要导入的业务网络卡片（`.card`）文件。点击**导入**。

业务网络卡片现在应该在你的业务网络页面中可见; 你现在可以连接到已部署业务网络。

### 使用凭据进行连接

**业务网络**页面可以通过两种方式创建业务网络卡。

业务网络卡片可以使用证书创建，这需要以下内容：由业务网络管理员提供的*证书*和*私钥* ; 一个业务网络卡片的*名称*; 凭证对应的*业务网络名称* ; 目标业务网络部署的运行时的*连接配置文件*详细信息。

使用*证书*从“ **业务网络”**页面创建业务网络卡片：

1. 收到证书和私钥后，单击“ **业务网络”**页面右上角的“ **使用凭据连接”**按钮。

2. 如果以前连接到已部署的运行时，请从显示的列表中选择它，单击**下一步**继续执行步骤4; 否则选择单选选项连接到一个新的区块链，然后点击**下一步**。

3. 确认提供给你的连接配置文件详细信息，然后单击**保存**。

4. 输入*证书*、*私钥*、*业务网络卡片名称*和*业务网络名称*，然后单击**创建**。

业务网络卡片现在应显示在“ **业务网络”**页面中。

### 手动创建业务网络卡片

业务网络卡片是档案（`.zip`）文件，最多包含三个元素：

- 一个连接配置文件。（`.json`）

- 一个包含用于连接到业务网络的身份数据的元数据文件。（`metadata.json`）

- 一个可选凭据目录，包含一个证书和私钥。

*请注意*：如果没有凭据目录，则元数据文件必须包含属性名称是*enrollmentSecret*的*登记密码*属性。如果指定了*enrollmentSecret*，则会导出包含证书的凭据目录并填充业务网络卡片。

元数据文件应采用以下格式：
```json
{
    "name": "PeerAdmin",
    "description": "A valid Business Network Card",
    "businessNetwork": "basic-sample-network",
    "enrollmentId": "UserID",
    "enrollmentSecret": "UserSecret",
    "roles": [

    ]
}

```

*businessNetworkName*、*image*、*enrollmentSecret*和*roles*属性是可选的。可用的*roles*是`PeerAdmin`和`ChannelAdmin`。

要创建业务网络卡片文件，请压缩连接配置文件，元数据文件和凭证目录，然后修改文件类型为`.card`。

此业务网络卡片现在可以使用Hyperledger Composer Playground导入。
