# 创建、导出和导入业务网络卡片

业务网络卡片表现为`.card`文件，包含一个`metadata.JSON`文件，一个连接配置文件和可选的证书文件。

Hyperledger Composer Playground中可以使用业务网络卡片来管理不同业务网络和连接配置文件的身份。

## 创建业务网络卡片

业务网络卡片可以在钱包屏幕中创建，可以从组件文件创建，也可以在业务网络中创建。

*请注意*：如果卡片从钱包屏幕创建，或者从组件文件创建，则必须在业务网络中创建相应的身份。

### 在业务网络中创建业务网络卡片

1. 从 **我的钱包**屏幕中，选择一个用于连接到你的业务网络的身份。点击**立即连接**。*请注意：*你使用的身份必须具有创建新身份的权限。

2. *可选*：要创建关联到身份的参与者，请单击**测试**选项卡，然后单击**创建新参与者**。

3. 点击右上方你的身份名称，然后点击**ID库**。

4. 点击**颁发新的ID**。

5. 选择一个**ID名称**，然后选择一个**参与者**将新的身份与之关联。

6. 点击**新建**。

7. 点击**添加到我的钱包**。将业务网络卡片添加到钱包，将允许你使用它连接到业务网络，或将其导出供其他人使用。

在**我的钱包**屏幕现在应该显示新的业务网络卡片。

### 使用钱包创建业务网络卡片

可以从“ **我的钱包”**页面创建业务网络卡片，但是，业务网络中必须已经创建了相应的身份。从 **我的钱包**页面创建业务网络卡片，需要使用与在业务网络内创建身份时的*用户ID*、*用户密码*和正确的*业务网络名称*。

从“ **我的钱包”**页面创建业务网络卡：

1. 收到有效的*用户ID*和*用户密码*后，点击**我的钱包**页面右上角的**创建业务网络卡片**按钮。

2. 选择一个连接配置文件，然后单击**下一步**。

3. 输入创建身份时生成的*用户ID*和*用户密码*。

4. 输入正确的*业务网络名称*，然后点击**创建**。

业务网络卡片现在应显示在“ **我的钱包”**页面中。

### 从组件文件创建一个业务网络卡片

业务网络卡片是包含三个元素的复合文件：

- 连接配置文件。（`connection.json`）

- 包含用于连接到业务网络的身份数据的元数据文件。（`metadata.json`）

- 一个可选的`credentials`目录，包含身份的一个证书（文件名`certificate`）和一个私钥（文件名`privateKey`）。

*请注意*：如果没有`credentials`目录，则元数据文件的*enrollmentSecret*属性必须包含用于获取凭据的*登记密码*。如果指定了*enrollmentSecret*，并且业务网络卡片用于连接到业务网络，则一个包含证书的credentials(凭据)目录会被自动创建和填充（如果业务网络卡片已导出）。

元数据文件应采用以下格式：
```json
{
    "version": 1,
    "userName": "alice",
    "description": "Alice's identity for basic-sample-network",
    "businessNetwork": "basic-sample-network",
    "enrollmentSecret": "UserSecret",
    "roles": [
    ]
}
```

该*businessNetworkName*、*description*、*enrollmentSecret*和*roles*属性是可选的。可用的*roles*是`PeerAdmin`和`ChannelAdmin`。

要创建业务网络卡片文件，请运行`composer card create`命令。

现在可以使用Hyperledger Composer Playground导入此业务网络卡片。

## 导入和导出业务网络卡片

导入和导出业务网络卡片是允许其他用户访问Playground中业务网络的最简单方式。有效的业务网络卡片必须使用上述方法之一创建，但可以导出并发送给其他用户。

### 导出业务网络卡片

1. 要导出业务网络卡片，请通过[使用业务网络](managing_id-cards-playground.md#在业务网络中创建业务网络卡片)创建一个身份并将业务网络卡片添加到你的钱包。

2. 在“ **我的钱包”**页面上，单击你想**导出**的业务网络卡片上的**导出**图标。业务网络卡片会作为`.card`文件下载。

*请注意*：如果你导出一个从未使用过的业务网络卡片，例如发送给新的参与者，它将包含获取证书和公钥所需的登记ID和登记密钥，然后用它们来认证者。或者，如果你导出之前使用过的业务网络卡片，它将已经包含证书和公钥。

**重要**：导出的身份卡片应小心处理，因为它们包含不受保护的证书。例如，你绝不应通过电子邮件或其他未加密的通讯方式发送身份卡片。

### 导入业务网络卡片

导入业务网络卡片允许你连接到业务网络，而无需创建连接配置文件，身份和证书。业务网络的成员可以创建业务网络卡片并将其导出，以便其他人访问业务网络。

1. 在“ **我的钱包”**屏幕上，单击右上角的**导入业务网络卡片**。

2. 拖放或浏览以选择要导入的业务网络卡片（`.card`）文件。点击**导入**。

业务网络卡片现在应该可以在钱包中看到。
